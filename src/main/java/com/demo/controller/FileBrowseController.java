package com.demo.controller;

import com.demo.service.FileBrowseService;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.*;

/**
 * @Auther: liuxi
 * @Date: 2018/9/20 18:07
 * @Description:
 */
@RestController
@RequestMapping("file")
public class FileBrowseController {

    private static Logger logger = LoggerFactory.getLogger(FileBrowseController.class);

    @Autowired
    private FileBrowseService fileBrowseService;

    @RequestMapping("code")
    public String getFileBase64Code(@RequestParam("url") String url){
        return fileBrowseService.getFileBase64Code(url);
    }

    @RequestMapping("source-open/code/test")
    public String test() throws Exception{

        logger.info("-------------------source-open/code/test------------------");

        return fileBrowseService.testCode();
    }

    @RequestMapping("source-open/pdf")
    public String pdf(){

        logger.info("-------------------source-open/pdf------------------");

        return "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bG9nL1BhZ2VzIDMgMCBSPj4KZW5kb2JqCjggMCBvYmoKPDwvTW9kRGF0ZShEOjIwMTgwOTE5MTk0NTQwKzA4JzAwJykvQ3JlYXRpb25EYXRlKEQ6MjAxODA5MTkxOTQ1NDArMDgnMDAnKS9Qcm9kdWNlcihpVGV4dK4gNS40LjMgqTIwMDAtMjAxMyAxVDNYVCBCVkJBIFwoQUdQTC12ZXJzaW9uXCkpPj4KZW5kb2JqCnhyZWYKMCA5CjAwMDAwMDAwMDAgNjU1MzUgZiAKMDAwMDAwMjUwNSAwMDAwMCBuIAowMDAwMDAwMDE1IDAwMDAwIG4gCjAwMDAwMDI2MjkgMDAwMDAgbiAKMDAwMDAwMTkwNiAwMDAwMCBuIAowMDAwMDAyMDE4IDAwMDAwIG4gCjAwMDAwMDIyMDkgMDAwMDAgbiAKMDAwMDAwMjY4MCAwMDAwMCBuIAowMDAwMDAyNzI1IDAwMDAwIG4gCnRyYWlsZXIKPDwvSW5mbyA4IDAgUi9JRCBbPDkyMGJjYjAzZTVmOTA0Nzg5YzJkZDM3OWU1NmU3OWMxPjw0ODQ2ZjVlOWFiMDEwZjY5ZThhNGQwNzk3ZDY1YjRhYz5dL1Jvb3QgNyAwIFIvU2l6ZSA5Pj4KJWlUZXh0LTUuNC4zCnN0YXJ0eHJlZgoyODc4CiUlRU9GCg==";
    }

    @RequestMapping("source-open/pdf/blob")
    public byte[] pdfB(){

        logger.info("-------------------source-open/pdf/blob------------------");

        String code = "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bG9nL1BhZ2VzIDMgMCBSPj4KZW5kb2JqCjggMCBvYmoKPDwvTW9kRGF0ZShEOjIwMTgwOTE5MTk0NTQwKzA4JzAwJykvQ3JlYXRpb25EYXRlKEQ6MjAxODA5MTkxOTQ1NDArMDgnMDAnKS9Qcm9kdWNlcihpVGV4dK4gNS40LjMgqTIwMDAtMjAxMyAxVDNYVCBCVkJBIFwoQUdQTC12ZXJzaW9uXCkpPj4KZW5kb2JqCnhyZWYKMCA5CjAwMDAwMDAwMDAgNjU1MzUgZiAKMDAwMDAwMjUwNSAwMDAwMCBuIAowMDAwMDAwMDE1IDAwMDAwIG4gCjAwMDAwMDI2MjkgMDAwMDAgbiAKMDAwMDAwMTkwNiAwMDAwMCBuIAowMDAwMDAyMDE4IDAwMDAwIG4gCjAwMDAwMDIyMDkgMDAwMDAgbiAKMDAwMDAwMjY4MCAwMDAwMCBuIAowMDAwMDAyNzI1IDAwMDAwIG4gCnRyYWlsZXIKPDwvSW5mbyA4IDAgUi9JRCBbPDkyMGJjYjAzZTVmOTA0Nzg5YzJkZDM3OWU1NmU3OWMxPjw0ODQ2ZjVlOWFiMDEwZjY5ZThhNGQwNzk3ZDY1YjRhYz5dL1Jvb3QgNyAwIFIvU2l6ZSA5Pj4KJWlUZXh0LTUuNC4zCnN0YXJ0eHJlZgoyODc4CiUlRU9GCg==";

        return code.getBytes();
    }
}
